
2020-05-03 15:18:56,283 p=25669 u=javierfp n=ansible | changed: [localhost]
2020-05-03 15:18:56,293 p=25669 u=javierfp n=ansible | TASK [start : ARRANCAR CONTAINERS] **************************************************************************************************************************************************************
2020-05-03 15:18:56,507 p=25669 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_1container_odoo_1)
2020-05-03 15:18:56,673 p=25669 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_2container_odoo_1)
2020-05-03 15:18:56,833 p=25669 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_2container_postgres_1)
2020-05-03 15:18:56,843 p=25669 u=javierfp n=ansible | TASK [tests : EJECUTAR COMANDOS] ****************************************************************************************************************************************************************
2020-05-03 15:18:57,206 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running)
2020-05-03 15:18:57,474 p=25669 u=javierfp n=ansible | failed: [localhost] (item=EJECUTANDO docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo) => {"ansible_loop_var": "item", "changed": false, "cmd": "docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo", "delta": "0:00:00.126106", "end": "2020-05-03 15:18:57.452659", "item": [{"container": "odoo_1container_odoo_1"}, {"comando": "cat /opt/odoo/conf/odoo.conf | grep addons_path", "nombre": "Addons_path correcto", "puntuacion": 1, "resultado": "/opt/odoo/src/odoo"}], "msg": "non-zero return code", "rc": 1, "start": "2020-05-03 15:18:57.326553", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2020-05-03 15:18:57,785 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO")
2020-05-03 15:18:58,107 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running)
2020-05-03 15:18:58,421 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO")
2020-05-03 15:18:58,740 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO")
2020-05-03 15:18:58,991 p=25669 u=javierfp n=ansible | failed: [localhost] (item=EJECUTANDO docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux) => {"ansible_loop_var": "item", "changed": false, "cmd": "docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux", "delta": "0:00:00.108287", "end": "2020-05-03 15:18:58.969487", "item": [{"container": "odoo_2container_odoo_1"}, {"comando": "cat /opt/odoo/conf/odoo.conf | grep addons_path", "nombre": "Addons_path OCA modules", "puntuacion": 1, "resultado": "/opt/odoo/src/server-ux"}], "msg": "non-zero return code", "rc": 1, "start": "2020-05-03 15:18:58.861200", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2020-05-03 15:18:59,003 p=25669 u=javierfp n=ansible | TASK [tests : debug] ****************************************************************************************************************************************************************************
2020-05-03 15:18:59,016 p=25669 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "LO SIENTO!. No has superado todos los test"
}
2020-05-03 15:18:59,027 p=25669 u=javierfp n=ansible | TASK [tests : CALCULAR NOTA] ********************************************************************************************************************************************************************
2020-05-03 15:18:59,082 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO service odoo.sh status)
2020-05-03 15:18:59,086 p=25669 u=javierfp n=ansible | skipping: [localhost] => (item=PROCESANDO cat /opt/odoo/conf/odoo.conf | grep addons_path) 
2020-05-03 15:18:59,091 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management)
2020-05-03 15:18:59,095 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO service odoo.sh status)
2020-05-03 15:18:59,100 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm)
2020-05-03 15:18:59,107 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website)
2020-05-03 15:18:59,111 p=25669 u=javierfp n=ansible | skipping: [localhost] => (item=PROCESANDO cat /opt/odoo/conf/odoo.conf | grep addons_path) 
2020-05-03 15:18:59,121 p=25669 u=javierfp n=ansible | TASK [tests : MOSTRAR NOTA] *********************************************************************************************************************************************************************
2020-05-03 15:18:59,160 p=25669 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "8"
}
2020-05-03 15:18:59,169 p=25669 u=javierfp n=ansible | TASK [tests : ESCRIBIR LOG] *********************************************************************************************************************************************************************
2020-05-03 15:18:59,356 p=25669 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running', 'stdout': 'FINE, 1 ODOO-SERVER is Running.', 'stderr': '', 'rc': 0, 'start': '2020-05-03 15:18:57.020682', 'end': '2020-05-03 15:18:57.182683', 'delta': '0:00:00.162001', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['FINE, 1 ODOO-SERVER is Running.'], 'stderr_lines': [], 'failed': False, 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Odoo running', 'comando': 'service odoo.sh status', 'resultado': 'Running', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 15:18:59,491 p=25669 u=javierfp n=ansible | changed: [localhost] => (item={'msg': 'non-zero return code', 'cmd': 'docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo', 'stdout': '', 'stderr': '', 'rc': 1, 'start': '2020-05-03 15:18:57.326553', 'end': '2020-05-03 15:18:57.452659', 'delta': '0:00:00.126106', 'changed': False, 'failed': True, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Addons_path correcto', 'comando': 'cat /opt/odoo/conf/odoo.conf | grep addons_path', 'resultado': '/opt/odoo/src/odoo', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 15:18:59,627 p=25669 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    111      0 --:--:-- --:--:-- --:--:--   111', 'rc': 0, 'start': '2020-05-03 15:18:57.600847', 'end': '2020-05-03 15:18:57.762613', 'delta': '0:00:00.161766', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    111      0 --:--:-- --:--:-- --:--:--   111'], 'failed': False, 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Módulo ventas instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management', 'resultado': '"EXITO"', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 15:18:59,766 p=25669 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running', 'stdout': 'FINE, 1 ODOO-SERVER is Running.', 'stderr': '', 'rc': 0, 'start': '2020-05-03 15:18:57.907690', 'end': '2020-05-03 15:18:58.085629', 'delta': '0:00:00.177939', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['FINE, 1 ODOO-SERVER is Running.'], 'stderr_lines': [], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Odoo running', 'comando': 'service odoo.sh status', 'resultado': 'Running', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 15:18:59,904 p=25669 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    116      0 --:--:-- --:--:-- --:--:--   116', 'rc': 0, 'start': '2020-05-03 15:18:58.229219', 'end': '2020-05-03 15:18:58.397951', 'delta': '0:00:00.168732', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    116      0 --:--:-- --:--:-- --:--:--   116'], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Módulo CRM instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm', 'resultado': '"EXITO"', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 15:19:00,041 p=25669 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    104      0 --:--:-- --:--:-- --:--:--   104', 'rc': 0, 'start': '2020-05-03 15:18:58.540865', 'end': '2020-05-03 15:18:58.713909', 'delta': '0:00:00.173044', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    104      0 --:--:-- --:--:-- --:--:--   104'], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Módulo website instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website', 'resultado': '"EXITO"', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 15:19:00,180 p=25669 u=javierfp n=ansible | changed: [localhost] => (item={'msg': 'non-zero return code', 'cmd': 'docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux', 'stdout': '', 'stderr': '', 'rc': 1, 'start': '2020-05-03 15:18:58.861200', 'end': '2020-05-03 15:18:58.969487', 'delta': '0:00:00.108287', 'changed': False, 'failed': True, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Addons_path OCA modules', 'comando': 'cat /opt/odoo/conf/odoo.conf | grep addons_path', 'resultado': '/opt/odoo/src/server-ux', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 15:19:00,190 p=25669 u=javierfp n=ansible | TASK [tests : ESCRIBIR NOTA LOG] ****************************************************************************************************************************************************************
2020-05-03 15:19:00,368 p=25669 u=javierfp n=ansible | changed: [localhost]
2020-05-03 15:19:00,376 p=25669 u=javierfp n=ansible | TASK [entregar : ENTREGAR TAREA] ****************************************************************************************************************************************************************
2020-05-03 15:19:00,414 p=25669 u=javierfp n=ansible | skipping: [localhost]
2020-05-03 15:19:00,424 p=25669 u=javierfp n=ansible | TASK [entregar : FORZAR ENTREGA DE TAREA] *******************************************************************************************************************************************************
2020-05-03 15:19:00,473 p=25669 u=javierfp n=ansible | included: /home/javierfp/GITHUB/javierfpisc/SXE_2021/sxe_tests/tests/roles/entregar/tasks/entregar.yaml for localhost
2020-05-03 15:19:00,483 p=25669 u=javierfp n=ansible | TASK [entregar : ENTREGAR TAREA] ****************************************************************************************************************************************************************
2020-05-03 15:19:00,522 p=25669 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "Se va a crear incidencia con el resultado de la tarea"
}
2020-05-03 15:19:00,531 p=25669 u=javierfp n=ansible | TASK [entregar : CREAR INCIDENCIA EN GITLAB] ****************************************************************************************************************************************************
2020-05-03 15:19:01,243 p=25669 u=javierfp n=ansible | ok: [localhost] => (item=
***********************************************
TEST: Odoo running

----->CONTAINER: odoo_1container_odoo_1

----->COMANDO: service odoo.sh status

----->SALIDA: FINE, 1 ODOO-SERVER is Running.

----->CÓDIGO SALIDA: 0

----->PUNTUACIÓN: 2
***********************************************
TEST: Addons_path correcto

----->CONTAINER: odoo_1container_odoo_1

----->COMANDO: cat /opt/odoo/conf/odoo.conf | grep addons_path

----->SALIDA: 

----->CÓDIGO SALIDA: 1

----->ERROR! 
***********************************************
TEST: Módulo ventas instalado

----->CONTAINER: odoo_1container_odoo_1

----->COMANDO: curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management

----->SALIDA: EXITO

----->CÓDIGO SALIDA: 0

----->PUNTUACIÓN: 2
***********************************************
TEST: Odoo running

----->CONTAINER: odoo_2container_odoo_1

----->COMANDO: service odoo.sh status

----->SALIDA: FINE, 1 ODOO-SERVER is Running.

----->CÓDIGO SALIDA: 0

----->PUNTUACIÓN: 2
***********************************************
TEST: Módulo CRM instalado

----->CONTAINER: odoo_2container_odoo_1

----->COMANDO: curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm

----->SALIDA: EXITO

----->CÓDIGO SALIDA: 0

----->PUNTUACIÓN: 1
***********************************************
TEST: Módulo website instalado

----->CONTAINER: odoo_2container_odoo_1

----->COMANDO: curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website

----->SALIDA: EXITO

----->CÓDIGO SALIDA: 0

----->PUNTUACIÓN: 1
***********************************************
TEST: Addons_path OCA modules

----->CONTAINER: odoo_2container_odoo_1

----->COMANDO: cat /opt/odoo/conf/odoo.conf | grep addons_path

----->SALIDA: 

----->CÓDIGO SALIDA: 1

----->ERROR! 

### NOTA DE LA TAREA: 8)
2020-05-03 15:19:01,246 p=25669 u=javierfp n=ansible | PLAY RECAP **************************************************************************************************************************************************************************************
2020-05-03 15:19:01,246 p=25669 u=javierfp n=ansible | localhost                  : ok=11   changed=4    unreachable=0    failed=0    skipped=1    rescued=1    ignored=0   
