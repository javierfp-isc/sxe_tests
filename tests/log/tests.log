
2020-05-03 18:36:46,078 p=17589 u=javierfp n=ansible | changed: [localhost]
2020-05-03 18:36:46,086 p=17589 u=javierfp n=ansible | TASK [start : ARRANCAR CONTAINERS] **************************************************************************************************************************************************************
2020-05-03 18:36:46,285 p=17589 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_1container_odoo_1)
2020-05-03 18:36:46,447 p=17589 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_2container_odoo_1)
2020-05-03 18:36:46,601 p=17589 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_2container_postgres_1)
2020-05-03 18:36:46,610 p=17589 u=javierfp n=ansible | TASK [tests : EJECUTAR COMANDOS] ****************************************************************************************************************************************************************
2020-05-03 18:36:46,982 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running)
2020-05-03 18:36:47,236 p=17589 u=javierfp n=ansible | failed: [localhost] (item=EJECUTANDO docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo) => {"ansible_loop_var": "item", "changed": false, "cmd": "docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo", "delta": "0:00:00.116741", "end": "2020-05-03 18:36:47.215009", "item": [{"container": "odoo_1container_odoo_1"}, {"comando": "cat /opt/odoo/conf/odoo.conf | grep addons_path", "nombre": "Addons_path correcto", "puntuacion": 1, "resultado": "/opt/odoo/src/odoo"}], "msg": "non-zero return code", "rc": 1, "start": "2020-05-03 18:36:47.098268", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2020-05-03 18:36:47,555 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO")
2020-05-03 18:36:47,818 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running)
2020-05-03 18:36:48,118 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO")
2020-05-03 18:36:48,437 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO")
2020-05-03 18:36:48,707 p=17589 u=javierfp n=ansible | failed: [localhost] (item=EJECUTANDO docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux) => {"ansible_loop_var": "item", "changed": false, "cmd": "docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux", "delta": "0:00:00.131475", "end": "2020-05-03 18:36:48.686075", "item": [{"container": "odoo_2container_odoo_1"}, {"comando": "cat /opt/odoo/conf/odoo.conf | grep addons_path", "nombre": "Addons_path OCA modules", "puntuacion": 1, "resultado": "/opt/odoo/src/server-ux"}], "msg": "non-zero return code", "rc": 1, "start": "2020-05-03 18:36:48.554600", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2020-05-03 18:36:48,718 p=17589 u=javierfp n=ansible | TASK [tests : debug] ****************************************************************************************************************************************************************************
2020-05-03 18:36:48,731 p=17589 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "LO SIENTO!. No has superado todos los test"
}
2020-05-03 18:36:48,746 p=17589 u=javierfp n=ansible | TASK [tests : CALCULAR NOTA] ********************************************************************************************************************************************************************
2020-05-03 18:36:48,790 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO service odoo.sh status)
2020-05-03 18:36:48,794 p=17589 u=javierfp n=ansible | skipping: [localhost] => (item=PROCESANDO cat /opt/odoo/conf/odoo.conf | grep addons_path) 
2020-05-03 18:36:48,800 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management)
2020-05-03 18:36:48,805 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO service odoo.sh status)
2020-05-03 18:36:48,811 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm)
2020-05-03 18:36:48,816 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website)
2020-05-03 18:36:48,820 p=17589 u=javierfp n=ansible | skipping: [localhost] => (item=PROCESANDO cat /opt/odoo/conf/odoo.conf | grep addons_path) 
2020-05-03 18:36:48,829 p=17589 u=javierfp n=ansible | TASK [tests : MOSTRAR NOTA] *********************************************************************************************************************************************************************
2020-05-03 18:36:48,868 p=17589 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "8"
}
2020-05-03 18:36:48,877 p=17589 u=javierfp n=ansible | TASK [tests : ESCRIBIR LOG] *********************************************************************************************************************************************************************
2020-05-03 18:36:49,070 p=17589 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running', 'stdout': 'FINE, 1 ODOO-SERVER is Running.', 'stderr': '', 'rc': 0, 'start': '2020-05-03 18:36:46.773619', 'end': '2020-05-03 18:36:46.956743', 'delta': '0:00:00.183124', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['FINE, 1 ODOO-SERVER is Running.'], 'stderr_lines': [], 'failed': False, 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Odoo running', 'comando': 'service odoo.sh status', 'resultado': 'Running', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 18:36:49,212 p=17589 u=javierfp n=ansible | changed: [localhost] => (item={'msg': 'non-zero return code', 'cmd': 'docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo', 'stdout': '', 'stderr': '', 'rc': 1, 'start': '2020-05-03 18:36:47.098268', 'end': '2020-05-03 18:36:47.215009', 'delta': '0:00:00.116741', 'changed': False, 'failed': True, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Addons_path correcto', 'comando': 'cat /opt/odoo/conf/odoo.conf | grep addons_path', 'resultado': '/opt/odoo/src/odoo', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 18:36:49,356 p=17589 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    121      0 --:--:-- --:--:-- --:--:--   121', 'rc': 0, 'start': '2020-05-03 18:36:47.352851', 'end': '2020-05-03 18:36:47.533010', 'delta': '0:00:00.180159', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    121      0 --:--:-- --:--:-- --:--:--   121'], 'failed': False, 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Módulo ventas instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management', 'resultado': '"EXITO"', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 18:36:49,507 p=17589 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running', 'stdout': 'FINE, 1 ODOO-SERVER is Running.', 'stderr': '', 'rc': 0, 'start': '2020-05-03 18:36:47.672471', 'end': '2020-05-03 18:36:47.794876', 'delta': '0:00:00.122405', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['FINE, 1 ODOO-SERVER is Running.'], 'stderr_lines': [], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Odoo running', 'comando': 'service odoo.sh status', 'resultado': 'Running', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 18:36:49,643 p=17589 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    128      0 --:--:-- --:--:-- --:--:--   128', 'rc': 0, 'start': '2020-05-03 18:36:47.931279', 'end': '2020-05-03 18:36:48.096096', 'delta': '0:00:00.164817', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    128      0 --:--:-- --:--:-- --:--:--   128'], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Módulo CRM instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm', 'resultado': '"EXITO"', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 18:36:49,790 p=17589 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    113      0 --:--:-- --:--:-- --:--:--   113', 'rc': 0, 'start': '2020-05-03 18:36:48.235315', 'end': '2020-05-03 18:36:48.414887', 'delta': '0:00:00.179572', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    113      0 --:--:-- --:--:-- --:--:--   113'], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Módulo website instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website', 'resultado': '"EXITO"', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 18:36:49,923 p=17589 u=javierfp n=ansible | changed: [localhost] => (item={'msg': 'non-zero return code', 'cmd': 'docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux', 'stdout': '', 'stderr': '', 'rc': 1, 'start': '2020-05-03 18:36:48.554600', 'end': '2020-05-03 18:36:48.686075', 'delta': '0:00:00.131475', 'changed': False, 'failed': True, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Addons_path OCA modules', 'comando': 'cat /opt/odoo/conf/odoo.conf | grep addons_path', 'resultado': '/opt/odoo/src/server-ux', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 18:36:49,932 p=17589 u=javierfp n=ansible | TASK [tests : ESCRIBIR NOTA LOG] ****************************************************************************************************************************************************************
2020-05-03 18:36:50,105 p=17589 u=javierfp n=ansible | changed: [localhost]
2020-05-03 18:36:50,113 p=17589 u=javierfp n=ansible | TASK [entregar : ENTREGAR TAREA] ****************************************************************************************************************************************************************
2020-05-03 18:36:50,150 p=17589 u=javierfp n=ansible | skipping: [localhost]
2020-05-03 18:36:50,159 p=17589 u=javierfp n=ansible | TASK [entregar : FORZAR ENTREGA DE TAREA] *******************************************************************************************************************************************************
2020-05-03 18:36:50,211 p=17589 u=javierfp n=ansible | included: /home/javierfp/GITHUB/javierfpisc/SXE_2021/sxe_tests/tests/roles/entregar/tasks/entregar.yaml for localhost
2020-05-03 18:36:50,221 p=17589 u=javierfp n=ansible | TASK [entregar : ENTREGAR TAREA] ****************************************************************************************************************************************************************
2020-05-03 18:36:50,258 p=17589 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "Se va a crear incidencia con el resultado de la tarea"
}
2020-05-03 18:36:50,267 p=17589 u=javierfp n=ansible | TASK [entregar : CREAR INCIDENCIA EN GITLAB] ****************************************************************************************************************************************************
2020-05-03 18:36:50,877 p=17589 u=javierfp n=ansible | ok: [localhost] => (item=
***********************************************
### TEST: Odoo running

**CONTAINER:** odoo_1container_odoo_1

**COMANDO:** service odoo.sh status

**SALIDA:** FINE, 1 ODOO-SERVER is Running.

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 2
***********************************************
### TEST: Addons_path correcto

**CONTAINER:** odoo_1container_odoo_1

**COMANDO:** cat /opt/odoo/conf/odoo.conf | grep addons_path

**SALIDA:** 

**CÓDIGO SALIDA:** 1

**ERROR!** 
***********************************************
### TEST: Módulo ventas instalado

**CONTAINER:** odoo_1container_odoo_1

**COMANDO:** curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management

**SALIDA:** EXITO

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 2
***********************************************
### TEST: Odoo running

**CONTAINER:** odoo_2container_odoo_1

**COMANDO:** service odoo.sh status

**SALIDA:** FINE, 1 ODOO-SERVER is Running.

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 2
***********************************************
### TEST: Módulo CRM instalado

**CONTAINER:** odoo_2container_odoo_1

**COMANDO:** curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm

**SALIDA:** EXITO

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 1
***********************************************
### TEST: Módulo website instalado

**CONTAINER:** odoo_2container_odoo_1

**COMANDO:** curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website

**SALIDA:** EXITO

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 1
***********************************************
### TEST: Addons_path OCA modules

**CONTAINER:** odoo_2container_odoo_1

**COMANDO:** cat /opt/odoo/conf/odoo.conf | grep addons_path

**SALIDA:** 

**CÓDIGO SALIDA:** 1

**ERROR!** 

### NOTA DE LA TAREA: 8)
2020-05-03 18:36:50,887 p=17589 u=javierfp n=ansible | TASK [stop : PARAR CONTAINERS] ******************************************************************************************************************************************************************
2020-05-03 18:37:01,757 p=17589 u=javierfp n=ansible | changed: [localhost] => (item=PARANDO odoo_1container_odoo_1)
2020-05-03 18:37:12,587 p=17589 u=javierfp n=ansible | changed: [localhost] => (item=PARANDO odoo_2container_odoo_1)
2020-05-03 18:37:23,441 p=17589 u=javierfp n=ansible | changed: [localhost] => (item=PARANDO odoo_2container_postgres_1)
2020-05-03 18:37:23,443 p=17589 u=javierfp n=ansible | PLAY RECAP **************************************************************************************************************************************************************************************
2020-05-03 18:37:23,444 p=17589 u=javierfp n=ansible | localhost                  : ok=12   changed=5    unreachable=0    failed=0    skipped=1    rescued=1    ignored=0   
2020-05-03 19:03:54,814 p=25493 u=javierfp n=ansible | - Role roles/tarea_modificar was created successfully
