
2020-05-03 17:57:14,817 p=5498 u=javierfp n=ansible | changed: [localhost]
2020-05-03 17:57:14,826 p=5498 u=javierfp n=ansible | TASK [start : ARRANCAR CONTAINERS] **************************************************************************************************************************************************************
2020-05-03 17:57:15,032 p=5498 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_1container_odoo_1)
2020-05-03 17:57:15,201 p=5498 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_2container_odoo_1)
2020-05-03 17:57:15,358 p=5498 u=javierfp n=ansible | changed: [localhost] => (item=ARRANCANDO odoo_2container_postgres_1)
2020-05-03 17:57:15,372 p=5498 u=javierfp n=ansible | TASK [tests : EJECUTAR COMANDOS] ****************************************************************************************************************************************************************
2020-05-03 17:57:15,708 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running)
2020-05-03 17:57:15,970 p=5498 u=javierfp n=ansible | failed: [localhost] (item=EJECUTANDO docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo) => {"ansible_loop_var": "item", "changed": false, "cmd": "docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo", "delta": "0:00:00.121875", "end": "2020-05-03 17:57:15.947739", "item": [{"container": "odoo_1container_odoo_1"}, {"comando": "cat /opt/odoo/conf/odoo.conf | grep addons_path", "nombre": "Addons_path correcto", "puntuacion": 1, "resultado": "/opt/odoo/src/odoo"}], "msg": "non-zero return code", "rc": 1, "start": "2020-05-03 17:57:15.825864", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2020-05-03 17:57:16,271 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO")
2020-05-03 17:57:16,554 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running)
2020-05-03 17:57:16,861 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO")
2020-05-03 17:57:17,161 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=EJECUTANDO docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO")
2020-05-03 17:57:17,425 p=5498 u=javierfp n=ansible | failed: [localhost] (item=EJECUTANDO docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux) => {"ansible_loop_var": "item", "changed": false, "cmd": "docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux", "delta": "0:00:00.128973", "end": "2020-05-03 17:57:17.403634", "item": [{"container": "odoo_2container_odoo_1"}, {"comando": "cat /opt/odoo/conf/odoo.conf | grep addons_path", "nombre": "Addons_path OCA modules", "puntuacion": 1, "resultado": "/opt/odoo/src/server-ux"}], "msg": "non-zero return code", "rc": 1, "start": "2020-05-03 17:57:17.274661", "stderr": "", "stderr_lines": [], "stdout": "", "stdout_lines": []}
2020-05-03 17:57:17,436 p=5498 u=javierfp n=ansible | TASK [tests : debug] ****************************************************************************************************************************************************************************
2020-05-03 17:57:17,446 p=5498 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "LO SIENTO!. No has superado todos los test"
}
2020-05-03 17:57:17,456 p=5498 u=javierfp n=ansible | TASK [tests : CALCULAR NOTA] ********************************************************************************************************************************************************************
2020-05-03 17:57:17,501 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO service odoo.sh status)
2020-05-03 17:57:17,505 p=5498 u=javierfp n=ansible | skipping: [localhost] => (item=PROCESANDO cat /opt/odoo/conf/odoo.conf | grep addons_path) 
2020-05-03 17:57:17,510 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management)
2020-05-03 17:57:17,515 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO service odoo.sh status)
2020-05-03 17:57:17,522 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm)
2020-05-03 17:57:17,527 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=PROCESANDO curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website)
2020-05-03 17:57:17,532 p=5498 u=javierfp n=ansible | skipping: [localhost] => (item=PROCESANDO cat /opt/odoo/conf/odoo.conf | grep addons_path) 
2020-05-03 17:57:17,542 p=5498 u=javierfp n=ansible | TASK [tests : MOSTRAR NOTA] *********************************************************************************************************************************************************************
2020-05-03 17:57:17,579 p=5498 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "8"
}
2020-05-03 17:57:17,587 p=5498 u=javierfp n=ansible | TASK [tests : ESCRIBIR LOG] *********************************************************************************************************************************************************************
2020-05-03 17:57:17,770 p=5498 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running', 'stdout': 'FINE, 1 ODOO-SERVER is Running.', 'stderr': '', 'rc': 0, 'start': '2020-05-03 17:57:15.540929', 'end': '2020-05-03 17:57:15.684484', 'delta': '0:00:00.143555', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 service odoo.sh status | grep Running', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['FINE, 1 ODOO-SERVER is Running.'], 'stderr_lines': [], 'failed': False, 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Odoo running', 'comando': 'service odoo.sh status', 'resultado': 'Running', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 17:57:17,901 p=5498 u=javierfp n=ansible | changed: [localhost] => (item={'msg': 'non-zero return code', 'cmd': 'docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo', 'stdout': '', 'stderr': '', 'rc': 1, 'start': '2020-05-03 17:57:15.825864', 'end': '2020-05-03 17:57:15.947739', 'delta': '0:00:00.121875', 'changed': False, 'failed': True, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/odoo', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Addons_path correcto', 'comando': 'cat /opt/odoo/conf/odoo.conf | grep addons_path', 'resultado': '/opt/odoo/src/odoo', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 17:57:18,039 p=5498 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    116      0 --:--:-- --:--:-- --:--:--   116', 'rc': 0, 'start': '2020-05-03 17:57:16.087650', 'end': '2020-05-03 17:57:16.247941', 'delta': '0:00:00.160291', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_1container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    116      0 --:--:-- --:--:-- --:--:--   116'], 'failed': False, 'item': [{'container': 'odoo_1container_odoo_1'}, {'nombre': 'Módulo ventas instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management', 'resultado': '"EXITO"', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 17:57:18,172 p=5498 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running', 'stdout': 'FINE, 1 ODOO-SERVER is Running.', 'stderr': '', 'rc': 0, 'start': '2020-05-03 17:57:16.391880', 'end': '2020-05-03 17:57:16.531674', 'delta': '0:00:00.139794', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 service odoo.sh status | grep Running', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['FINE, 1 ODOO-SERVER is Running.'], 'stderr_lines': [], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Odoo running', 'comando': 'service odoo.sh status', 'resultado': 'Running', 'puntuacion': 2}], 'ansible_loop_var': 'item'})
2020-05-03 17:57:18,305 p=5498 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    125      0 --:--:-- --:--:-- --:--:--   125', 'rc': 0, 'start': '2020-05-03 17:57:16.668208', 'end': '2020-05-03 17:57:16.837026', 'delta': '0:00:00.168818', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    125      0 --:--:-- --:--:-- --:--:--   125'], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Módulo CRM instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm', 'resultado': '"EXITO"', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 17:57:18,437 p=5498 u=javierfp n=ansible | changed: [localhost] => (item={'cmd': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO"', 'stdout': 'EXITO', 'stderr': '  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n\r  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0\r100     5  100     5    0     0    119      0 --:--:-- --:--:-- --:--:--   119', 'rc': 0, 'start': '2020-05-03 17:57:16.975986', 'end': '2020-05-03 17:57:17.138143', 'delta': '0:00:00.162157', 'changed': False, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website | grep "EXITO"', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': ['EXITO'], 'stderr_lines': ['  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current', '                                 Dload  Upload   Total   Spent    Left  Speed', '', '  0     0    0     0    0     0      0      0 --:--:-- --:--:-- --:--:--     0', '100     5  100     5    0     0    119      0 --:--:-- --:--:-- --:--:--   119'], 'failed': False, 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Módulo website instalado', 'comando': 'curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website', 'resultado': '"EXITO"', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 17:57:18,571 p=5498 u=javierfp n=ansible | changed: [localhost] => (item={'msg': 'non-zero return code', 'cmd': 'docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux', 'stdout': '', 'stderr': '', 'rc': 1, 'start': '2020-05-03 17:57:17.274661', 'end': '2020-05-03 17:57:17.403634', 'delta': '0:00:00.128973', 'changed': False, 'failed': True, 'invocation': {'module_args': {'_raw_params': 'docker exec odoo_2container_odoo_1 cat /opt/odoo/conf/odoo.conf | grep addons_path | grep /opt/odoo/src/server-ux', '_uses_shell': True, 'warn': True, 'stdin_add_newline': True, 'strip_empty_ends': True, 'argv': None, 'chdir': None, 'executable': None, 'creates': None, 'removes': None, 'stdin': None}}, 'stdout_lines': [], 'stderr_lines': [], 'item': [{'container': 'odoo_2container_odoo_1'}, {'nombre': 'Addons_path OCA modules', 'comando': 'cat /opt/odoo/conf/odoo.conf | grep addons_path', 'resultado': '/opt/odoo/src/server-ux', 'puntuacion': 1}], 'ansible_loop_var': 'item'})
2020-05-03 17:57:18,582 p=5498 u=javierfp n=ansible | TASK [tests : ESCRIBIR NOTA LOG] ****************************************************************************************************************************************************************
2020-05-03 17:57:18,753 p=5498 u=javierfp n=ansible | changed: [localhost]
2020-05-03 17:57:18,761 p=5498 u=javierfp n=ansible | TASK [entregar : ENTREGAR TAREA] ****************************************************************************************************************************************************************
2020-05-03 17:57:18,796 p=5498 u=javierfp n=ansible | skipping: [localhost]
2020-05-03 17:57:18,804 p=5498 u=javierfp n=ansible | TASK [entregar : FORZAR ENTREGA DE TAREA] *******************************************************************************************************************************************************
2020-05-03 17:57:18,852 p=5498 u=javierfp n=ansible | included: /home/javierfp/GITHUB/javierfpisc/SXE_2021/sxe_tests/tests/roles/entregar/tasks/entregar.yaml for localhost
2020-05-03 17:57:18,862 p=5498 u=javierfp n=ansible | TASK [entregar : ENTREGAR TAREA] ****************************************************************************************************************************************************************
2020-05-03 17:57:18,902 p=5498 u=javierfp n=ansible | ok: [localhost] => {
    "msg": "Se va a crear incidencia con el resultado de la tarea"
}
2020-05-03 17:57:18,912 p=5498 u=javierfp n=ansible | TASK [entregar : CREAR INCIDENCIA EN GITLAB] ****************************************************************************************************************************************************
2020-05-03 17:57:19,636 p=5498 u=javierfp n=ansible | ok: [localhost] => (item=
***********************************************
### TEST: Odoo running

**CONTAINER:** odoo_1container_odoo_1

**COMANDO:** service odoo.sh status

**SALIDA:** FINE, 1 ODOO-SERVER is Running.

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 2
***********************************************
### TEST: Addons_path correcto

**CONTAINER:** odoo_1container_odoo_1

**COMANDO:** cat /opt/odoo/conf/odoo.conf | grep addons_path

**SALIDA:** 

**CÓDIGO SALIDA:** 1

**ERROR!** 
***********************************************
### TEST: Módulo ventas instalado

**CONTAINER:** odoo_1container_odoo_1

**COMANDO:** curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=sale_management

**SALIDA:** EXITO

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 2
***********************************************
### TEST: Odoo running

**CONTAINER:** odoo_2container_odoo_1

**COMANDO:** service odoo.sh status

**SALIDA:** FINE, 1 ODOO-SERVER is Running.

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 2
***********************************************
### TEST: Módulo CRM instalado

**CONTAINER:** odoo_2container_odoo_1

**COMANDO:** curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=crm

**SALIDA:** EXITO

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 1
***********************************************
### TEST: Módulo website instalado

**CONTAINER:** odoo_2container_odoo_1

**COMANDO:** curl -G "http://localhost:8069/sxe_tests/implantacion" --data-urlencode login=admin --data-urlencode password=abc123. --data-urlencode metodo=test_modulo_instalado --data-urlencode modulo=website

**SALIDA:** EXITO

**CÓDIGO SALIDA:** 0

**PUNTUACIÓN:** 1
***********************************************
### TEST: Addons_path OCA modules

**CONTAINER:** odoo_2container_odoo_1

**COMANDO:** cat /opt/odoo/conf/odoo.conf | grep addons_path

**SALIDA:** 

**CÓDIGO SALIDA:** 1

**ERROR!** 

### NOTA DE LA TAREA: 8)
2020-05-03 17:57:19,639 p=5498 u=javierfp n=ansible | PLAY RECAP **************************************************************************************************************************************************************************************
2020-05-03 17:57:19,639 p=5498 u=javierfp n=ansible | localhost                  : ok=11   changed=4    unreachable=0    failed=0    skipped=1    rescued=1    ignored=0   
